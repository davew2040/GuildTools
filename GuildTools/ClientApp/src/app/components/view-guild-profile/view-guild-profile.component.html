<div fxLayout="row" fxLayoutAlign="center" class="main-container">
    <div fxLayout="row" fxLayoutAlign="space-between" class="secondary-container" fxLayoutGap="10px">
        <div class="main-list" fxLayout="column" fxLayoutAlign="start stretch" fxLayoutGap="5px;" fxFlex>
            <h2>Mains</h2>

            <mat-card  droppable [dragOverClass]="'dragover-class'" (onDrop)="onUnassignedPlayerDropped($event)">Drag here to add a main character</mat-card>

            <mat-accordion>
              <mat-expansion-panel *ngFor="let main of mains | async">
                  <mat-expansion-panel-header>
                      <mat-panel-title>
                        {{main.name}}
                      </mat-panel-title>
                      <mat-panel-description>
                        {{main.level}}
                      </mat-panel-description>
                    </mat-expansion-panel-header>

                    <div>{{ getWowClassLabel(main.class) }}</div>
              </mat-expansion-panel>
          </mat-accordion>
        </div>
        <div fxFlex="200px" fxLayout="column" class="player-table-container">
            <input class="player-filter" type="text" matInput placeholder="Filter" (change)="playersFilterChanged($event)" (keydown)="playersFilterChanged($event)" autocomplete="off" />

            <div>
              <mat-table *ngIf="profile" [dataSource]="filteredPlayers" class="player-table">
                  <ng-container matColumnDef="playerName">
                      <mat-header-cell mat-header-cell class="player-name-header" *matHeaderCellDef> Name </mat-header-cell>
                      <mat-cell class="player-name-cell" mat-cell *matCellDef="let player">
                        <div>
                            <div>{{ player.playerName }}</div>
                        </div>
                      </mat-cell>
                  </ng-container>

                  <ng-container matColumnDef="playerLevel">
                      <mat-header-cell mat-header-cell class="level-header" *matHeaderCellDef>Level</mat-header-cell>
                      <mat-cell class="level-cell" mat-cell *matCellDef="let player" style="user-select: none" >
                          {{ player.level }}
                      </mat-cell>
                  </ng-container>

                  <mat-header-row *matHeaderRowDef="playerColumns"></mat-header-row>
                  <mat-row class="player-row" [contextMenu]="basicMenu" [contextMenuSubject]="player" [ngClass]="getPlayerCssClass(player)" *matRowDef="let player; columns: playerColumns;" draggable [dragClass]="'my-draggable'" [dragData]="player">
                  </mat-row>
              </mat-table>
            </div>
        </div>
    </div>

    <context-menu>
        <ng-template contextMenuItem (execute)="showMessage('Hi, ' + $event.item.name)">
            Say hi!
        </ng-template>
        <ng-template contextMenuItem divider="true"></ng-template>
        <ng-template contextMenuItem let-item (execute)="showMessage($event.item.name + ' said: ' + $event.item.otherProperty)">
            Bye, {{item?.name}}
        </ng-template>
        <!-- <ng-template contextMenuItem passive="true">
    Input something: <input type="text">
  </ng-template> -->
    </context-menu>
